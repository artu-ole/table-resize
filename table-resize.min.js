!function(){"use strict"
function e(){}function t(e,t){this.options.minWidth=30,this.options.restoreState=!0
for(var o in this.options)t.hasOwnProperty(o)&&(this.options[o]=t[o])
this.table=e,this.hr=e.rows[0],this.nc=this.hr.cells.length,this.nr=e.rows.length,this._init()}function o(e,o){if(e&&"TABLE"!==e.tagName)return void console.log("ERROR: DOM element/input is not a table!")
if(!(e&&e.rows&&e.rows.length>0))return void console.log("WARNING: Empty table.")
for(var r=new t(e,o||{}),i=0;i<r.hr.cells.length;i++){var s=r.hr.cells[i]
s.innerHTML='<div class="resize-base"><div class="resize-elem"></div><div class="resize-text">'+s.innerHTML+"</div></div>",n(s.childNodes[0].childNodes[0],"mousedown",function(e){r._mouseDown(e)})}}function n(e,t,o){e.attachEvent?(e["e"+t+o]=o,e[t+o]=function(){e["e"+t+o](window.event)},e.attachEvent("on"+t,e[t+o])):e.addEventListener(t,o,!1)}function r(e,t,o){e.detachEvent?(e.detachEvent("on"+t,e[t+o]),e[t+o]=null):e.removeEventListener(t,o,!1)}if(e.prototype=function(){function t(e){return e||window.event}function o(e){return e.which||e.button}function i(e){var t=e.pageX
if(void 0===t){var o=document.body,n=document.documentElement
t=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0)}return t}function s(e){var t=e.pageY
if(void 0===t){var o=document.body,n=document.documentElement
t=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)}return t}function u(e){if(e=t(e),this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e,!e.which){var r={}
for(var i in e)r[i]=e[i]
this._mouseDownEvent=r}if(1!==o(e))return!0
if(0==this.options.distance){if(this._mouseStarted=this._mousePrepareDrag(e)!==!1,!this._mouseStarted)return e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!0}else this._mousePrepareClick(e)
var s=this
return this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},n(document.body,"mousemove",this._mouseMoveDelegate),n(document.body,"mouseup",this._mouseUpDelegate),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!0}function a(e){return e=t(e),o(e)?this._mouseStarted?(this._mouseDrag(e),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1):(this._mouseDistanceMet(e,this._mouseDownEvent)&&(this._mouseStarted=this._mousePrepareDrag(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!this.mouseStarted):this._mouseUp(e)}function l(e){return e=t(e),r(document.body,"mousemove",this._mouseMoveDelegate),r(document.body,"mouseup",this._mouseUpDelegate),this._mouseStarted?(this._mouseStarted=!1,this._mouseStopDrag(e)):this._mouseExecuteClick(e),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1}function c(e,t){var o=Math.abs(i(t)-i(e)),n=Math.abs(s(t)-s(e))
return Math.sqrt(o*o+n*n)>=this.options.distance}function h(){}function p(){}function d(){}function f(){}function m(){}return{constructor:e,options:{distance:0},_mouseDown:u,_mouseMove:a,_mouseUp:l,_mouseDistanceMet:c,_mousePrepareClick:h,_mousePrepareDrag:p,_mouseDrag:d,_mouseExecuteClick:f,_mouseStopDrag:m}}(),function(){function o(e){var t=e.pageX
if(void 0===t){var o=document.body,n=document.documentElement
t=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0)}return t}function n(e,t){if(window.getComputedStyle)return window.getComputedStyle(e,"").getPropertyValue(t)
var o=/(\-([a-z]){1})/g
return"float"==t&&(t="styleFloat"),o.test(t)&&(t=t.replace(o,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]}function r(e){return void 0===e||""==e||null==e?0:parseInt(e)}function i(e){return e.target||e.srcElement}function s(e){var t=localStorage.getItem(e)
if(null!=t)try{t=JSON.parse(t)}catch(o){t=[]}else t=[]
return t}function u(e,t){var o=e.findIndex(function(e){var o=e.id
return o!=t?!1:!0})
return o}function a(e,t){if(!localStorage)return void console.log("localStorage not supported or not usable (i.e. ie in offline mode).")
for(var o=s(e),n=t.getAttribute("id"),r={id:n},i=u(o,n),a=2;a<arguments.length;a+=2)r[arguments[a]]=arguments[a+1]
0>i?o.push(r):o.splice(i,1,r),localStorage.setItem(e,JSON.stringify(o))}function l(e,t,o){if(!localStorage)return void console.log("localStorage not supported or not usable (i.e. ie in offline mode).")
var n=s(e),r=t.getAttribute("id"),i=u(n,r)
if(i>=0){var a=n[i],l=a[o],c=l.length,h=t.rows[0].cells.length
if(h==c)for(var p=0;h>p;p++){var d=t.rows[0].cells[p]
d.style.maxWidth=d.style.width=l[p]}}}t.prototype=new e,t.prototype.constructor=t,t.prototype._init=function(){for(var e=0;e<this.nc;e++){var t=this.hr.cells[e],o=n(t,"width"),o="auto"==o?t.clientWidth-r(n(t,"paddingLeft"))-r(n(t,"paddingRight"))+"px":o
t.style.width=o}this.options.restoreState&&l("table-resize",this.table,"resize")},t.prototype._mousePrepareDrag=function(e){this.ic=i(e).parentNode.parentNode.cellIndex
for(var t=this.ic,o=this.hr.cells[t],n=r(o.style.width),s=0;s<this.nr;s++)o=this.table.rows[s].cells[t],o.style.maxWidth=o.style.width=n
return this.cur=document.body.style.cursor,document.body.style.cursor="col-resize",!0},t.prototype._mouseDrag=function(e){var t=o(e)-o(this._mouseDownEvent),n=this.ic,i=this.hr.cells[n],s=r(i.style.width)
if(-t>=s)this._mouseStopDrag(e)
else{var u=s+t
if(u>this.options.minWidth){for(var a=0;a<this.nr;a++)i=this.table.rows[a].cells[n],i.style.maxWidth=i.style.width=u+"px"
if(this._mouseDownEvent=e,!e.which){var l={}
for(var c in e)l[c]=e[c]
this._mouseDownEvent=l}}}},t.prototype._mouseStopDrag=function(){for(var e=Array(this.nc),t=0;t<this.nc;t++){var o=this.hr.cells[t]
e[t]=o.style.width}a("table-resize",this.table,"resize",e),document.body.style.cursor=this.cur}}(),"undefined"!=typeof module&&module.exports?module.exports=o:window.TableResize=o,!Array.prototype.findIndex)try{Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined")
if("function"!=typeof e)throw new TypeError("predicate must be a function")
for(var t,o=Object(this),n=o.length>>>0,r=arguments[1],i=0;n>i;i++)if(i in o&&(t=o[i],e.call(r,t,i,o)))return i
return-1}})}catch(i){Array.prototype.findIndex=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined")
if("function"!=typeof e)throw new TypeError("predicate must be a function")
for(var t,o=Object(this),n=o.length>>>0,r=arguments[1],i=0;n>i;i++)if(i in o&&(t=o[i],e.call(r,t,i,o)))return i
return-1}}}()
